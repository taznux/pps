<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="generator" content="Doconce: http://code.google.com/p/doconce/"/>

    <link rel="stylesheet"
          href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
    <link rel="stylesheet"
          href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">
    <!-- Define color of headings here (last definition counts) -->
    <style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */

    </style>
</head>
<body>

<title>Using Flask for Scientific Web Applications</title>

<div class="container">
    <div class="row Header with-border">
        <div class="span3 Module logo">
            <h1><a href="/">Flask<span class="subtitle">4scientists</span></a></h1>
        </div>
        <div class="span9">
            <div class="Module navigation">
                <ul>
                    <li><a href="http://flask.pocoo.org/">Flask</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="span3 Module sidebar">
        <div class="well" style="padding: 8px 0px;">
            <ul class="nav nav-list">
                <!-- navigation toc: -->
                <li><a href="#___sec0" style="font-size: 80%;">Web frameworks</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask004.html#___sec5" style="font-size: 80%;">Making a Flask application</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask006.html#wf:vib:flask" style="font-size: 80%;">Handling multiple input
                    variables in Flask</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask017.html#___sec56" style="font-size: 80%;">Exercises</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask017.html#___sec66" style="font-size: 80%;">Flask resources</a></li>

            </ul>
        </div>
    </div>

    <div class="span9">


        <!-- tocinfo
        {'highest level': 1,
         'sections': [('Web frameworks', 1, None, '___sec0'),
                      ('Other frameworks', 3, None, '___sec1'),
                      ('The MVC pattern', 2, None, '___sec2'),
                      ('A very simple application', 2, None, '___sec3'),
                      ('Application of the MVC pattern', 2, 'wf:hw:mvc', 'wf:hw:mvc'),
                      ('Making a Flask application', 1, None, '___sec5'),
                      ('Programming the Flask application', 2, None, '___sec6'),
                      ('The user interaction', 3, None, '___sec7'),
                      ('The Python code', 3, None, '___sec8'),
                      ('Dissection', 3, None, '___sec9'),
                      ('The template files', 3, None, '___sec10'),
                      ('Testing the application', 3, None, '___sec11'),
                      ('Equipping the input page with output results',
                       2,
                       None,
                       '___sec12'),
                      ('Splitting the app into model, view, and controller files',
                       2,
                       'wf:hw3:flask',
                       'wf:hw3:flask'),
                      ('Troubleshooting', 2, None, '___sec14'),
                      ('Address already in use', 3, None, '___sec15'),
                      ('Handling multiple input variables in Flask',
                       1,
                       'wf:vib:flask',
                       'wf:vib:flask'),
                      ('Programming the Flask application',
                       2,
                       'wf:vib1:flask:app',
                       'wf:vib1:flask:app'),
                      ('The compute part', 3, None, '___sec18'),
                      ('The model', 3, None, '___sec19'),
                      ('The view', 3, None, '___sec20'),
                      ('The HTML template', 3, None, '___sec21'),
                      ('Implementing error checking in the template',
                       2,
                       None,
                       '___sec22'),
                      ('Using style sheets', 2, None, '___sec23'),
                      ('Using LaTeX mathematics', 2, None, '___sec24'),
                      ('Rearranging the elements in the HTML template',
                       2,
                       None,
                       '___sec25'),
                      ('Bootstrap HTML style', 2, None, '___sec26'),
                      ('Custom validation',
                       2,
                       'wf:vib1:flask:validation',
                       'wf:vib1:flask:validation'),
                      ('Using Flask validators', 3, None, '___sec28'),
                      ('Tailored validation', 3, None, '___sec29'),
                      ('Tailored validation of intervals', 3, None, '___sec30'),
                      ('Demo', 3, None, '___sec31'),
                      ('Avoiding plot files',
                       2,
                       'wf:vib2:flask:nofiles',
                       'wf:vib2:flask:nofiles'),
                      ('PNG plots', 3, None, '___sec33'),
                      ('SVG plots', 3, None, '___sec34'),
                      ('Using mpld3', 3, None, '___sec35'),
                      ('Plotting with the Bokeh library',
                       2,
                       'wf:bokeh:flask',
                       'wf:bokeh:flask'),
                      ('Pandas highcharts plotting library', 3, None, '___sec37'),
                      ('Autogenerating the code',
                       2,
                       'wf:autogen:flask',
                       'wf:autogen:flask'),
                      ('Inspecting function signatures', 3, None, '___sec39'),
                      ('Generating the model', 3, None, '___sec40'),
                      ('Generating the view', 3, None, '___sec41'),
                      ('Generating the template', 3, None, '___sec42'),
                      ('Application', 3, None, '___sec43'),
                      ('User login and storage of computed results',
                       2,
                       'wf:flask:login',
                       'wf:flask:login'),
                      ('Required additional software', 3, None, '___sec45'),
                      ('The compute part', 3, None, '___sec46'),
                      ('The interfaces of the app', 3, None, '___sec47'),
                      ('The source code', 3, None, '___sec48'),
                      ('Resources', 3, None, '___sec49'),
                      ('Uploading of files', 2, 'wf:flask:upload', 'wf:flask:upload'),
                      ('Overview of the application', 3, None, '___sec51'),
                      ('The model class', 3, None, '___sec52'),
                      ('The controller file', 3, None, '___sec53'),
                      ('The compute function', 3, None, '___sec54'),
                      ('The HTML template', 3, None, '___sec55'),
                      ('Exercises', 1, None, '___sec56'),
                      ('Exercise 1: Add two numbers',
                       2,
                       'wf:exer:add2',
                       'wf:exer:add2'),
                      ('Exercise 2: Upload data file and visualize curves',
                       2,
                       'wf:exer:upload',
                       'wf:exer:upload'),
                      ('Exercise 3: Plot a user-specified formula',
                       2,
                       'wf:exer:formula',
                       'wf:exer:formula'),
                      ('Exercise 4: Visualize Taylor polynomial approximations',
                       2,
                       'wf:exer:Taylor',
                       'wf:exer:Taylor'),
                      ('Exercise 5: Extend the `gen` app',
                       2,
                       'wf:exer:gen:demo',
                       'wf:exer:gen:demo'),
                      ('Exercise 6: Make a web app with multiple apps',
                       2,
                       'wf:exer:addmul',
                       'wf:exer:addmul'),
                      ('Exercise 7: Equip the `gen` app with more data types',
                       2,
                       'wf:exer:gen:lists',
                       'wf:exer:gen:lists'),
                      ('Exercise 8: Auto-generate code from function signature',
                       2,
                       None,
                       '___sec64'),
                      ('Project 9: Interactive function exploration',
                       2,
                       'wf:exer:bokeh_UI',
                       'wf:exer:bokeh_UI'),
                      ('Flask resources', 1, None, '___sec66')]}
        end of tocinfo -->


        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});

        </script>
        <script type="text/javascript"
                src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>


        <a name="part0000"></a>
        <!-- ------------------- main content ---------------------- -->

        <!-- Use vagrant template only and therefore comment out TITLE -->

        <h1>Using Flask for Scientific Web Applications</h1>

        <p>

            <br>

        <h2>Table of contents</h2>

        <p>
            <a href="#___sec0"> Web frameworks </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask001.html#___sec2"> The MVC pattern </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask002.html#___sec3"> A very simple application </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask003.html#wf:hw:mvc"> Application of the MVC pattern </a><br>
            <a href="._web4sa_flask004.html#___sec5"> Making a Flask application </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#___sec6"> Programming the Flask application </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#___sec12"> Equipping the input page with output
            results </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask004.html#wf:hw3:flask"> Splitting the app into model, view, and
            controller files </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask005.html#___sec14"> Troubleshooting </a><br>
            <a href="._web4sa_flask006.html#wf:vib:flask"> Handling multiple input variables in Flask </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask006.html#wf:vib1:flask:app"> Programming the Flask
            application </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask007.html#___sec22"> Implementing error checking in the
            template </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask008.html#___sec23"> Using style sheets </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask009.html#___sec24"> Using LaTeX mathematics </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask010.html#___sec25"> Rearranging the elements in the HTML
            template </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask011.html#___sec26"> Bootstrap HTML style </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask012.html#wf:vib1:flask:validation"> Custom validation </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask013.html#wf:vib2:flask:nofiles"> Avoiding plot files </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask013.html#wf:bokeh:flask"> Plotting with the Bokeh
            library </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask014.html#wf:autogen:flask"> Autogenerating the code </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask015.html#wf:flask:login"> User login and storage of computed
            results </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask016.html#wf:flask:upload"> Uploading of files </a><br>
            <a href="._web4sa_flask017.html#___sec56"> Exercises </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:add2"> Exercise 1: Add two numbers </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:upload"> Exercise 2: Upload data file and
            visualize curves </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:formula"> Exercise 3: Plot a user-specified
            formula </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:Taylor"> Exercise 4: Visualize Taylor
            polynomial approximations </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:gen:demo"> Exercise 5: Extend the
            <code>gen</code> app </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:addmul"> Exercise 6: Make a web app with
            multiple apps </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:gen:lists"> Exercise 7: Equip the
            <code>gen</code> app with more data types </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#___sec64"> Exercise 8: Auto-generate code from function
            signature </a><br>
            &nbsp; &nbsp; &nbsp; <a href="._web4sa_flask017.html#wf:exer:bokeh_UI"> Project 9: Interactive function
            exploration </a><br>
            <a href="._web4sa_flask017.html#___sec66"> Flask resources </a><br>
        </p>

        <h1 id="___sec0">Web frameworks </h1>

        <p>
            Computational scientists may want to offer their applications through
            a web interface, thereby making a <em>web application</em>.
            Basically, this means that users can set input data
            to the application on a web page, then click on some <em>Compute</em> button,
            and back comes a new web page with the results of the computations.
            The web interface can either be used as a GUI locally on the
            scientist's computer, or the interface can be depolyed to
            a server and made available to the whole world.

        <p>
            Web applications of the mentioned type can be created from scratch
            using CGI scripts in (e.g.) Python, but the code quickly gets longer
            and more involved as the complexity of the web interface
            grows. Nowadays, most web applications are created with the aid of
            <em>web frameworks</em>, which are software packages that simplify the
            programming tasks of offering services through the Internet. The
            downside of web frameworks is that there is a significant amount of
            steps and details to learn before your first simple demo application
            works. The upside is that advanced applications are within reach,
            without an overwhelming amount of programming, as soon as you have
            understood the basic demos.

        <p>
            We shall in the forthcoming text explore the very easy-to-use <a href="http://flask.pocoo.org/"
                                                                             target="_self">Flask framework</a>. At the
            time of this writing, the primary Flask
            documentation is the <a href="http://flask.pocoo.org/" target="_self">official web site</a> and the <a
                href="http://wtforms.simplecodes.com/docs/0.6/index.html" target="_self">WTForms Documentation</a>. That
            is why we have made specific examples for the application of Flask in computational science.

        <p>
            The problem for a computational scientist who wants to enable
            mathematical calculations through the web is that most of
            the introductory examples on utilizing a particular
            web framework address web applications
            of very different nature, e.g., blogs and polls. Therefore, we have made an
            alternative introduction which explains, in the simplest possible way,
            how web frameworks can be used to

        <ol>
            <li> generate a web page with input data to your application,</li>
            <li> run the application to perform mathematical computations, and</li>
            <li> generate a web page with the results of the computations.</li>
        </ol>

        Flask is very easy to work with and extensive Python knowledge is
        not necessary. It is in fact enough to know about functions and
        modules. Beyond that, some knowledge of classes might be an advantage.

        <p>
            All the files associated with this document are available in a
            <a href="https://github.com/hplgit/web4sciapps/" target="_self">GitHub repository</a>.
            The relevant files for the web applications are located
            in a subtree <a href="https://github.com/hplgit/web4sciapps/tree/master/doc/src/web4sa/src-web4sa/apps/"
                            target="_self"><tt>doc/src/web4sa/src-web4sa/apps</tt></a>
            of this repository.

        <h3 id="___sec1">Other frameworks </h3>

        <p>
            Our introductory examples were also implemented in the <a href="http://www.web2py.com/" target="_self">web2py</a>
            framework, but according to our experience,
            Flask and Django are easier to explain to scientists. A framework
            quite similar to Flask is <a href="http://bottlepy.org/docs/dev/index.html" target="_self">Bottle</a>. An
            even simpler framework
            is <a href="http://www.cherrypy.org/" target="_self">CherryPy</a>, which has an interesting
            extension <a href="https://github.com/adamhajari/spyre" target="_self">Spyre</a> for easy
            visualization of data. Once you know the basics of Flask, CherryPy is
            easy to pick up by reading its <a href="http://docs.cherrypy.org/en/latest/tutorials.html#tutorials"
                                              target="_self">tutorial</a>. (There
            are some comments on the Internet about increased stability of Flask
            apps if they are <a href="http://flask.pocoo.org/snippets/24/" target="_self">run on a CherryPy server</a>.)

        <p>
        <p>
            <!-- navigation buttons at the bottom of the page -->
        <ul class="pager">
            <li class="next">
                <a href="._web4sa_flask001.html">Next &rarr;</a>
            </li>
        </ul>
        <!-- ------------------- end of main content --------------- -->


    </div>

    <div class="row Footer">
        <div class="span12">
            &copy 2013; Hans Petter Langtangen and Anders E. Johansen.
            Last update: Oct 11, 2015.
        </div>
    </div>
</div>
</body>
</html>

