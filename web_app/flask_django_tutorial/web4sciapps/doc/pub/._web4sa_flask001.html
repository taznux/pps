<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="generator" content="Doconce: http://code.google.com/p/doconce/"/>

    <link rel="stylesheet"
          href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/twitter_bootstrap.css">
    <link rel="stylesheet"
          href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_vagrant/css/vagrant.css">
    <!-- Define color of headings here (last definition counts) -->
    <style type="text/css">
h1, h2, h3, h4, h5, h6 {
  color: #000;     /* black */
  color: #999;     /* gray */
  color: #005580;  /* dark blue */
  color: #08c;     /* characteristic blue */

    </style>
</head>
<body>

<title>Using Flask for Scientific Web Applications</title>

<div class="container">
    <div class="row Header with-border">
        <div class="span3 Module logo">
            <h1><a href="/">Flask<span class="subtitle">4scientists</span></a></h1>
        </div>
        <div class="span9">
            <div class="Module navigation">
                <ul>
                    <li><a href="http://flask.pocoo.org/">Flask</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="span3 Module sidebar">
        <div class="well" style="padding: 8px 0px;">
            <ul class="nav nav-list">
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask000.html#___sec0" style="font-size: 80%;">Web frameworks</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask004.html#___sec5" style="font-size: 80%;">Making a Flask application</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask006.html#wf:vib:flask" style="font-size: 80%;">Handling multiple input
                    variables in Flask</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask017.html#___sec56" style="font-size: 80%;">Exercises</a></li>
                <!-- navigation toc: -->
                <li><a href="._web4sa_flask017.html#___sec66" style="font-size: 80%;">Flask resources</a></li>

            </ul>
        </div>
    </div>

    <div class="span9">


        <!-- tocinfo
        {'highest level': 1,
         'sections': [('Web frameworks', 1, None, '___sec0'),
                      ('Other frameworks', 3, None, '___sec1'),
                      ('The MVC pattern', 2, None, '___sec2'),
                      ('A very simple application', 2, None, '___sec3'),
                      ('Application of the MVC pattern', 2, 'wf:hw:mvc', 'wf:hw:mvc'),
                      ('Making a Flask application', 1, None, '___sec5'),
                      ('Programming the Flask application', 2, None, '___sec6'),
                      ('The user interaction', 3, None, '___sec7'),
                      ('The Python code', 3, None, '___sec8'),
                      ('Dissection', 3, None, '___sec9'),
                      ('The template files', 3, None, '___sec10'),
                      ('Testing the application', 3, None, '___sec11'),
                      ('Equipping the input page with output results',
                       2,
                       None,
                       '___sec12'),
                      ('Splitting the app into model, view, and controller files',
                       2,
                       'wf:hw3:flask',
                       'wf:hw3:flask'),
                      ('Troubleshooting', 2, None, '___sec14'),
                      ('Address already in use', 3, None, '___sec15'),
                      ('Handling multiple input variables in Flask',
                       1,
                       'wf:vib:flask',
                       'wf:vib:flask'),
                      ('Programming the Flask application',
                       2,
                       'wf:vib1:flask:app',
                       'wf:vib1:flask:app'),
                      ('The compute part', 3, None, '___sec18'),
                      ('The model', 3, None, '___sec19'),
                      ('The view', 3, None, '___sec20'),
                      ('The HTML template', 3, None, '___sec21'),
                      ('Implementing error checking in the template',
                       2,
                       None,
                       '___sec22'),
                      ('Using style sheets', 2, None, '___sec23'),
                      ('Using LaTeX mathematics', 2, None, '___sec24'),
                      ('Rearranging the elements in the HTML template',
                       2,
                       None,
                       '___sec25'),
                      ('Bootstrap HTML style', 2, None, '___sec26'),
                      ('Custom validation',
                       2,
                       'wf:vib1:flask:validation',
                       'wf:vib1:flask:validation'),
                      ('Using Flask validators', 3, None, '___sec28'),
                      ('Tailored validation', 3, None, '___sec29'),
                      ('Tailored validation of intervals', 3, None, '___sec30'),
                      ('Demo', 3, None, '___sec31'),
                      ('Avoiding plot files',
                       2,
                       'wf:vib2:flask:nofiles',
                       'wf:vib2:flask:nofiles'),
                      ('PNG plots', 3, None, '___sec33'),
                      ('SVG plots', 3, None, '___sec34'),
                      ('Using mpld3', 3, None, '___sec35'),
                      ('Plotting with the Bokeh library',
                       2,
                       'wf:bokeh:flask',
                       'wf:bokeh:flask'),
                      ('Pandas highcharts plotting library', 3, None, '___sec37'),
                      ('Autogenerating the code',
                       2,
                       'wf:autogen:flask',
                       'wf:autogen:flask'),
                      ('Inspecting function signatures', 3, None, '___sec39'),
                      ('Generating the model', 3, None, '___sec40'),
                      ('Generating the view', 3, None, '___sec41'),
                      ('Generating the template', 3, None, '___sec42'),
                      ('Application', 3, None, '___sec43'),
                      ('User login and storage of computed results',
                       2,
                       'wf:flask:login',
                       'wf:flask:login'),
                      ('Required additional software', 3, None, '___sec45'),
                      ('The compute part', 3, None, '___sec46'),
                      ('The interfaces of the app', 3, None, '___sec47'),
                      ('The source code', 3, None, '___sec48'),
                      ('Resources', 3, None, '___sec49'),
                      ('Uploading of files', 2, 'wf:flask:upload', 'wf:flask:upload'),
                      ('Overview of the application', 3, None, '___sec51'),
                      ('The model class', 3, None, '___sec52'),
                      ('The controller file', 3, None, '___sec53'),
                      ('The compute function', 3, None, '___sec54'),
                      ('The HTML template', 3, None, '___sec55'),
                      ('Exercises', 1, None, '___sec56'),
                      ('Exercise 1: Add two numbers',
                       2,
                       'wf:exer:add2',
                       'wf:exer:add2'),
                      ('Exercise 2: Upload data file and visualize curves',
                       2,
                       'wf:exer:upload',
                       'wf:exer:upload'),
                      ('Exercise 3: Plot a user-specified formula',
                       2,
                       'wf:exer:formula',
                       'wf:exer:formula'),
                      ('Exercise 4: Visualize Taylor polynomial approximations',
                       2,
                       'wf:exer:Taylor',
                       'wf:exer:Taylor'),
                      ('Exercise 5: Extend the `gen` app',
                       2,
                       'wf:exer:gen:demo',
                       'wf:exer:gen:demo'),
                      ('Exercise 6: Make a web app with multiple apps',
                       2,
                       'wf:exer:addmul',
                       'wf:exer:addmul'),
                      ('Exercise 7: Equip the `gen` app with more data types',
                       2,
                       'wf:exer:gen:lists',
                       'wf:exer:gen:lists'),
                      ('Exercise 8: Auto-generate code from function signature',
                       2,
                       None,
                       '___sec64'),
                      ('Project 9: Interactive function exploration',
                       2,
                       'wf:exer:bokeh_UI',
                       'wf:exer:bokeh_UI'),
                      ('Flask resources', 1, None, '___sec66')]}
        end of tocinfo -->


        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});

        </script>
        <script type="text/javascript"
                src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>


        <a name="part0001"></a>
        <!-- !split -->

        <h2 id="___sec2">The MVC pattern </h2>

        <p>
            The MVC pattern stands for Model-View-Controller and is a way of
            separating the user's interaction with an application from the inner
            workings of the application. In a scientific application this
            usually means separating mathematical computations from the
            user interface and visualization of results.
            The <a href="http://en.wikipedia.org/wiki/MVC_Pattern" target="_self">Wikipedia definition of the MVC
            pattern</a> gives a very high-level
            explanation of what the model, view, and controller do and mentions
            the fact that different web frameworks interpret the three components
            differently. Any web application works with a set of data and needs
            a user interface for the communication of data between the user and
            some data processing software. The classical
            MVC pattern introduces

        <ul>
            <li> the model to hold the data</li>
            <li> the view to display the data</li>
            <li> the controller to move the data by gluing the model and the view.</li>
        </ul>

        For applications performing mathematical computations we find it
        convenient to explicitly introduce a fourth component that we call
        <em>compute</em> where the mathematical computations are encapsulated. With
        the MVC pattern and the compute component we have a clear separation
        between data (model), the way data is presented (view), the
        computations (compute), and the way these components communicate
        (controller). In a small program such a separation may look as
        overkill, but it pays off in more complicated applications. More
        importantly, the concepts of the MVC pattern are widely used in web
        frameworks and their documentation so one should really adapt to the
        MVC way of thinking.

        <p>
            Web frameworks often have their own way of interpreting the
            model, view, and controller parts of the MVC pattern.
            In particular, most frameworks often divide the view into two parts:
            one software component and one HTML template. The latter takes care
            of the look and feel of the web page while the former often takes
            the role of being the controller too.
            For our scientific applications
            we shall employ an interpretation of the MVC pattern
            which is compatible with what we need later on:

        <ul>
            <li> the model contains the data (often only the input data) of the application,</li>
            <li> the view controls the user interface that handles input and output data,
                and also calls to functionality that computes the output given the input.
            </li>
        </ul>

        The model will be a Python class with static attributes holding the data.
        The view consists of Python code processing the model's data, calling the
        compute component, and specifying HTML
        templates for the design of the web pages.

        <p>
            Flask does not force any MVC pattern on the programmer, but
            the code needed to build web applications can easily be split into
            model, view, and controller components, and a compute
            component, as will be demonstrated later.

        <p>
            Forthcoming examples will illustrate how a scientific application is
            split to meet the requirements of the MVC software design pattern.

        <p>
        <p>
            <!-- navigation buttons at the bottom of the page -->
        <ul class="pager">
            <li class="previous">
                <a href="._web4sa_flask000.html">&larr; Prev</a>
            </li>
            <li class="next">
                <a href="._web4sa_flask002.html">Next &rarr;</a>
            </li>
        </ul>
        <!-- ------------------- end of main content --------------- -->


    </div>

    <div class="row Footer">
        <div class="span12">
            &copy 2013; Hans Petter Langtangen and Anders E. Johansen.
            Last update: Oct 11, 2015.
        </div>
    </div>
</div>
</body>
</html>

