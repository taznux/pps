<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/"/>
    <meta name="description" content="Using Web Frameworks for Scientific Applications">
    <meta name="keywords"
          content="web frameworks,MVC pattern,Flask installation,Flask input forms,Flask HTML templates,Flask MVC pattern,Flask troubleshooting,Django installation,Django making a project,Django making an application,Django input forms,Django HTML templates,Flask input forms,Flask error checking,Flask CSS style sheets,Flask LaTeX mathematics,Flask input validation,inline PNG image in HTML,base64 encoding of PNG images,inline SVG figure in HTML,mpld3 plotting,Flask Bokeh plotting,Bokeh plotting,highcharts,Flask login,Flask database,Flask uploading of files,Flask file upload,Django input forms,Django input validation">

    <title>Using Web Frameworks for Scientific Applications</title>


    <style type="text/css">
/* bloodish style */

body {
  font-family: Helvetica, Verdana, Arial, Sans-serif;
  color: #404040;
  background: #ffffff;
}
h1 { font-size: 1.8em;  color: #8A0808; }
h2 { font-size: 1.6em;  color: #8A0808; }
h3 { font-size: 1.4em;  color: #8A0808; }
h4 { color: #8A0808; }
a { color: #8A0808; text-decoration:none; }
tt { font-family: "Courier New", Courier; }
/* pre style removed because it will interfer with pygments */
p { text-indent: 0px; }
hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
p.caption { width: 80%; font-style: normal; text-align: left; }
hr.figure { border: 0; width: 80%; border-bottom: 1px solid #aaa}
.alert-text-small   { font-size: 80%;  }
.alert-text-large   { font-size: 130%; }
.alert-text-normal  { font-size: 90%;  }
.alert {
  padding:8px 35px 8px 14px; margin-bottom:18px;
  text-shadow:0 1px 0 rgba(255,255,255,0.5);
  border:1px solid #bababa;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  color: #555;
  background-color: #f8f8f8;
  background-position: 10px 5px;
  background-repeat: no-repeat;
  background-size: 38px;
  padding-left: 55px;
  width: 75%;
 }
.alert-block {padding-top:14px; padding-bottom:14px}
.alert-block > p, .alert-block > ul {margin-bottom:1em}
.alert li {margin-top: 1em}
.alert-block p+p {margin-top:5px}
.alert-notice { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_gray_notice.png); }
.alert-summary  { background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_gray_summary.png); }
.alert-warning { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_gray_warning.png); }
.alert-question {background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_gray_question.png); }

div { text-align: justify; text-justify: inter-word; }

    </style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Web frameworks', 1, None, '___sec0'),
              ('Other frameworks', 3, None, '___sec1'),
              ('The MVC pattern', 2, None, '___sec2'),
              ('A very simple application', 2, None, '___sec3'),
              ('Application of the MVC pattern', 2, 'wf:hw:mvc', 'wf:hw:mvc'),
              ('Making a Flask application', 1, None, '___sec5'),
              ('Programming the Flask application', 2, None, '___sec6'),
              ('The user interaction', 3, None, '___sec7'),
              ('The Python code', 3, None, '___sec8'),
              ('Dissection', 3, None, '___sec9'),
              ('The template files', 3, None, '___sec10'),
              ('Testing the application', 3, None, '___sec11'),
              ('Equipping the input page with output results',
               2,
               None,
               '___sec12'),
              ('Splitting the app into model, view, and controller files',
               2,
               'wf:hw3:flask',
               'wf:hw3:flask'),
              ('Troubleshooting', 2, None, '___sec14'),
              ('Address already in use', 3, None, '___sec15'),
              ('Making a Django application', 1, None, '___sec16'),
              ('Setting up a Django project', 2, None, '___sec17'),
              ('Setting up a Django application', 2, None, '___sec18'),
              ('Programming the Django application', 2, None, '___sec19'),
              ('The user interaction', 3, None, '___sec20'),
              ('The model', 3, None, '___sec21'),
              ('The view', 3, None, '___sec22'),
              ('Making the input page', 3, None, '___sec23'),
              ('Making the results page', 3, None, '___sec24'),
              ('Equipping the input page with output results',
               2,
               None,
               '___sec25'),
              ('Handling multiple input variables in Flask',
               1,
               'wf:vib:flask',
               'wf:vib:flask'),
              ('Programming the Flask application',
               2,
               'wf:vib1:flask:app',
               'wf:vib1:flask:app'),
              ('The compute part', 3, None, '___sec28'),
              ('The model', 3, None, '___sec29'),
              ('The view', 3, None, '___sec30'),
              ('The HTML template', 3, None, '___sec31'),
              ('Implementing error checking in the template',
               2,
               None,
               '___sec32'),
              ('Using style sheets', 2, None, '___sec33'),
              ('Using LaTeX mathematics', 2, None, '___sec34'),
              ('Rearranging the elements in the HTML template',
               2,
               None,
               '___sec35'),
              ('Bootstrap HTML style', 2, None, '___sec36'),
              ('Custom validation',
               2,
               'wf:vib1:flask:validation',
               'wf:vib1:flask:validation'),
              ('Using Flask validators', 3, None, '___sec38'),
              ('Tailored validation', 3, None, '___sec39'),
              ('Tailored validation of intervals', 3, None, '___sec40'),
              ('Demo', 3, None, '___sec41'),
              ('Avoiding plot files',
               2,
               'wf:vib2:flask:nofiles',
               'wf:vib2:flask:nofiles'),
              ('PNG plots', 3, None, '___sec43'),
              ('SVG plots', 3, None, '___sec44'),
              ('Using mpld3', 3, None, '___sec45'),
              ('Plotting with the Bokeh library',
               2,
               'wf:bokeh:flask',
               'wf:bokeh:flask'),
              ('Pandas highcharts plotting library', 3, None, '___sec47'),
              ('Autogenerating the code',
               2,
               'wf:autogen:flask',
               'wf:autogen:flask'),
              ('Inspecting function signatures', 3, None, '___sec49'),
              ('Generating the model', 3, None, '___sec50'),
              ('Generating the view', 3, None, '___sec51'),
              ('Generating the template', 3, None, '___sec52'),
              ('Application', 3, None, '___sec53'),
              ('User login and storage of computed results',
               2,
               'wf:flask:login',
               'wf:flask:login'),
              ('Required additional software', 3, None, '___sec55'),
              ('The compute part', 3, None, '___sec56'),
              ('The interfaces of the app', 3, None, '___sec57'),
              ('The source code', 3, None, '___sec58'),
              ('Resources', 3, None, '___sec59'),
              ('Uploading of files', 2, 'wf:flask:upload', 'wf:flask:upload'),
              ('Overview of the application', 3, None, '___sec61'),
              ('The model class', 3, None, '___sec62'),
              ('The controller file', 3, None, '___sec63'),
              ('The compute function', 3, None, '___sec64'),
              ('The HTML template', 3, None, '___sec65'),
              ('Handling multiple input variables in Django',
               1,
               'wf:vib:django',
               'wf:vib:django'),
              ('Programming the Django application', 2, None, '___sec67'),
              ('Adding the app to a project', 3, None, '___sec68'),
              ('The compute part', 3, None, '___sec69'),
              ('The model', 3, None, '___sec70'),
              ('The view', 3, None, '___sec71'),
              ('Custom validation', 2, None, '___sec72'),
              ('Customizing widgets', 2, None, '___sec73'),
              ('Resources', 2, None, '___sec74'),
              ('Exercises', 1, None, '___sec75'),
              ('Exercise 1: Add two numbers',
               2,
               'wf:exer:add2',
               'wf:exer:add2'),
              ('Exercise 2: Upload data file and visualize curves',
               2,
               'wf:exer:upload',
               'wf:exer:upload'),
              ('Exercise 3: Plot a user-specified formula',
               2,
               'wf:exer:formula',
               'wf:exer:formula'),
              ('Exercise 4: Visualize Taylor polynomial approximations',
               2,
               'wf:exer:Taylor',
               'wf:exer:Taylor'),
              ('Exercise 5: Extend the `gen` app',
               2,
               'wf:exer:gen:demo',
               'wf:exer:gen:demo'),
              ('Exercise 6: Make a web app with multiple apps',
               2,
               'wf:exer:addmul',
               'wf:exer:addmul'),
              ('Exercise 7: Equip the `gen` app with more data types',
               2,
               'wf:exer:gen:lists',
               'wf:exer:gen:lists'),
              ('Exercise 8: Auto-generate code from function signature',
               2,
               None,
               '___sec83'),
              ('Project 9: Interactive function exploration',
               2,
               'wf:exer:bokeh_UI',
               'wf:exer:bokeh_UI'),
              ('Resources', 1, None, '___sec85'),
              ('Flask resources', 2, None, '___sec86'),
              ('Django resources', 2, None, '___sec87')]}
end of tocinfo -->

<body>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});

</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<a name="part0000"></a>
<p>
    <!-- begin top navigation -->
<table style="width: 100%">
    <tr>
        <td>
        </td>
        <td>
            <div style="text-align: right;"><a href="._web4sa_plain001.html">Next &raquo;</a></div>
        </td>
    </tr>
</table>
<!-- end top navigation -->
</p>

<p>
    <!-- ------------------- main content ---------------------- -->


<center><h1>Using Web Frameworks for Scientific Applications</h1></center>  <!-- document title -->

<p>
    <!-- author(s): Hans Petter Langtangen, and Anders E. Johansen -->

<center>
    <b>Hans Petter Langtangen</b> [1, 2]
</center>

<center>
    <b>Anders E. Johansen</b> [1]
</center>

<p>
    <!-- institution(s) -->

<center>[1] <b>Center for Biomedical Computing, Simula Research Laboratory</b></center>
<center>[2] <b>Department of Informatics, University of Oslo</b></center>
<br>
<p>
<center><h4>Oct 11, 2015</h4></center> <!-- date -->
<br>

<h2>Table of contents</h2>

<p>
    <a href="#___sec0"> Web frameworks </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain001.html#___sec2"> The MVC pattern </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain002.html#___sec3"> A very simple application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain003.html#wf:hw:mvc"> Application of the MVC pattern </a><br>
    <a href="._web4sa_plain004.html#___sec5"> Making a Flask application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain004.html#___sec6"> Programming the Flask application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain004.html#___sec12"> Equipping the input page with output
    results </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain004.html#wf:hw3:flask"> Splitting the app into model, view, and
    controller files </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain005.html#___sec14"> Troubleshooting </a><br>
    <a href="._web4sa_plain006.html#___sec16"> Making a Django application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain006.html#___sec17"> Setting up a Django project </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain006.html#___sec18"> Setting up a Django application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain007.html#___sec19"> Programming the Django application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain007.html#___sec25"> Equipping the input page with output
    results </a><br>
    <a href="._web4sa_plain008.html#wf:vib:flask"> Handling multiple input variables in Flask </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain008.html#wf:vib1:flask:app"> Programming the Flask application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain009.html#___sec32"> Implementing error checking in the template </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain010.html#___sec33"> Using style sheets </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain011.html#___sec34"> Using LaTeX mathematics </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain012.html#___sec35"> Rearranging the elements in the HTML
    template </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain013.html#___sec36"> Bootstrap HTML style </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain014.html#wf:vib1:flask:validation"> Custom validation </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain015.html#wf:vib2:flask:nofiles"> Avoiding plot files </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain015.html#wf:bokeh:flask"> Plotting with the Bokeh library </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain016.html#wf:autogen:flask"> Autogenerating the code </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain017.html#wf:flask:login"> User login and storage of computed
    results </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain018.html#wf:flask:upload"> Uploading of files </a><br>
    <a href="._web4sa_plain019.html#wf:vib:django"> Handling multiple input variables in Django </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain019.html#___sec67"> Programming the Django application </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain019.html#___sec72"> Custom validation </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain019.html#___sec73"> Customizing widgets </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain020.html#___sec74"> Resources </a><br>
    <a href="._web4sa_plain021.html#___sec75"> Exercises </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:add2"> Exercise 1: Add two numbers </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:upload"> Exercise 2: Upload data file and visualize
    curves </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:formula"> Exercise 3: Plot a user-specified
    formula </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:Taylor"> Exercise 4: Visualize Taylor polynomial
    approximations </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:gen:demo"> Exercise 5: Extend the <code>gen</code> app
</a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:addmul"> Exercise 6: Make a web app with multiple
    apps </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:gen:lists"> Exercise 7: Equip the <code>gen</code> app
    with more data types </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#___sec83"> Exercise 8: Auto-generate code from function
    signature </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#wf:exer:bokeh_UI"> Project 9: Interactive function
    exploration </a><br>
    <a href="._web4sa_plain021.html#___sec85"> Resources </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#___sec86"> Flask resources </a><br>
    &nbsp; &nbsp; &nbsp; <a href="._web4sa_plain021.html#___sec87"> Django resources </a><br>
</p>

<h1 id="___sec0">Web frameworks </h1>

<p>
    Computational scientists may want to offer their applications through
    a web interface, thereby making a <em>web application</em>.
    Basically, this means that users can set input data
    to the application on a web page, then click on some <em>Compute</em> button,
    and back comes a new web page with the results of the computations.
    The web interface can either be used as a GUI locally on the
    scientist's computer, or the interface can be depolyed to
    a server and made available to the whole world.

<p>
    Web applications of the mentioned type can be created from scratch
    using CGI scripts in (e.g.) Python, but the code quickly gets longer
    and more involved as the complexity of the web interface
    grows. Nowadays, most web applications are created with the aid of
    <em>web frameworks</em>, which are software packages that simplify the
    programming tasks of offering services through the Internet. The
    downside of web frameworks is that there is a significant amount of
    steps and details to learn before your first simple demo application
    works. The upside is that advanced applications are within reach,
    without an overwhelming amount of programming, as soon as you have
    understood the basic demos.

<p>
    We shall explore two web frameworks: the very popular <a href="https://www.djangoproject.com/" target="_self">Django
    framework</a> and the more high-level and easy-to-use framework
    <a href="http://flask.pocoo.org/" target="_self">Flask</a>.
    The primary advantage of Django
    over other web frameworks is the rich set of documentation and
    examples. Googling for "Django tutorials" gives lots of hits including
    a list of <a href="https://code.djangoproject.com/wiki/Tutorials" target="_self">web tutorials</a>
    and a list of <a href="http://www.youtube.com/playlist?list=PL385A53B00B8B158E" target="_self">YouTube videos</a>.
    There is also an electronic <a href="http://www.djangobook.com/en/2.0/" target="_self">Django book</a>. At the time
    of this writing, the Flask documentation is not comparable. The two most important resources are the
    <a href="http://flask.pocoo.org/" target="_self">official web site</a> and the <a
        href="http://wtforms.simplecodes.com/docs/0.6/index.html" target="_self">WTForms Documentation</a>. There is,
    unfortunately, hardly any examples on how Django or Flask can be used to enable typical scientific applications for
    the web, and that is why we have developed some targeted examples on this topic.

<p>
    A basic question is, of course, whether you should apply Flask or
    Django for your web project. Googling for <em>flask vs django</em> gives a
    lot of diverging opinions. The authors' viewpoint is that Flask is
    much easier to get started with than Django. You can grow your
    application to a really big one with both frameworks, but some
    advanced features is easier in one framework than in the other.

<p>
    The problem for a computational scientist who wants to enable
    mathematical calculations through the web is that most of
    the introductory examples on utilizing a particular
    web framework address web applications
    of very different nature, e.g., blogs and polls. Therefore, we have made an
    alternative introduction which explains, in the simplest possible way,
    how web frameworks can be used to

<ol>
    <li> generate a web page with input data to your application,</li>
    <li> run the application to perform mathematical computations, and</li>
    <li> generate a web page with the results of the computations.</li>
</ol>

To work with Django, you need to know about Python packages and modules
as well as Python classes. With Flask it is enough to be familiar with
functions and modules, though knowledge of classes and a bit of
decorators might be an advantage.

<p>
    All the files associated with this document are available in a
    <a href="https://github.com/hplgit/web4sciapps/" target="_self">GitHub repository</a>.
    The relevant files for the web applications are located
    in a subtree <a href="https://github.com/hplgit/web4sciapps/tree/master/doc/src/web4sa/src-web4sa/apps/"
                    target="_self"><tt>doc/src/web4sa/src-web4sa/apps</tt></a>
    of this repository.

<h3 id="___sec1">Other frameworks </h3>

<p>
    Our introductory examples were also implemented in the <a href="http://www.web2py.com/" target="_self">web2py</a>
    framework, but according to our experience,
    Flask and Django are easier to explain to scientists. A framework
    quite similar to Flask is <a href="http://bottlepy.org/docs/dev/index.html" target="_self">Bottle</a>. An even
    simpler framework
    is <a href="http://www.cherrypy.org/" target="_self">CherryPy</a>, which has an interesting
    extension <a href="https://github.com/adamhajari/spyre" target="_self">Spyre</a> for easy
    visualization of data. Once you know the basics of Flask, CherryPy is
    easy to pick up by reading its <a href="http://docs.cherrypy.org/en/latest/tutorials.html#tutorials" target="_self">tutorial</a>.
    (There
    are some comments on the Internet about increased stability of Flask
    apps if they are <a href="http://flask.pocoo.org/snippets/24/" target="_self">run on a CherryPy server</a>.)

<p>
<p>
    <!-- begin bottom navigation -->
<table style="width: 100%">
    <tr>
        <td>
        </td>
        <td>
            <div style="text-align: right;"><a href="._web4sa_plain001.html">Next &raquo;</a></div>
        </td>
    </tr>
</table>
<!-- end bottom navigation -->
</p>

<!-- ------------------- end of main content --------------- -->


<center style="font-size:80%">
    <!-- copyright --> &copy; 2015, Anders E. Johansen, Hans Petter Langtangen. Released under CC Attribution 4.0
    license
</center>


</body>
</html>
    

