from __future__ import division

# -*- coding: utf-8 -*-
# vispy: gallery 10
# Copyright (c) 2015, Vispy Development Team.
# Distributed under the (new) BSD License. See LICENSE.txt for more info.

""" Demonstrates use of visual.Markers to create a point cloud with a
standard turntable camera to fly around with and a centered 3D Axis.
"""

import vispy

from vispy.scene import visuals


def plot_structure_contours(point_cloud, title=''):
    """
        PLot contours from Dicom Structure point cloud (x,y,z) property.
    :param point_cloud: array of x,y,z contour points
    :param symbol:
    """
    #
    # Make a canvas and add simple view
    #
    canvas = vispy.scene.SceneCanvas(title=title, keys='interactive', show=True, bgcolor='white')
    view = canvas.central_widget.add_view()

    # create scatter object and fill in the data
    scatter = visuals.Markers()
    scatter.set_data(point_cloud, symbol='+', face_color=(1, 1, 1, .5), size=1)

    view.add(scatter)

    view.camera = 'arcball'  # or try 'arcball'
    # view.camera = 'turntable'
    # add a colored 3D axis for orientation
    axis = visuals.XYZAxis(parent=view.scene)
    vispy.app.run()


if __name__ == '__main__':
    import numpy as np

    sp = np.asarray([(0.0, 0.0, 1.0),
                     (0.0, 0.0, -1.0),
                     (0.4338837265968323, 0.0, 0.9009688496589661),
                     (0.7818315029144287, 0.0, 0.6234897971153259),
                     (0.9749279022216797, 0.0, 0.22252093255519867),
                     (0.9749279022216797, 0.0, -0.22252093255519867),
                     (0.7818315029144287, 0.0, -0.6234897971153259),
                     (0.4338837265968323, 0.0, -0.9009688496589661),
                     (0.3068021237850189, 0.3068021237850189, 0.9009688496589661),
                     (0.5528383255004883, 0.5528383255004883, 0.6234897971153259),
                     (0.6893781423568726, 0.6893781423568726, 0.22252093255519867),
                     (0.6893781423568726, 0.6893781423568726, -0.22252093255519867),
                     (0.5528383255004883, 0.5528383255004883, -0.6234897971153259),
                     (0.3068021237850189, 0.3068021237850189, -0.9009688496589661),
                     (2.656771613186194e-17, 0.4338837265968323, 0.9009688496589661),
                     (4.7873372427804546e-17, 0.7818315029144287, 0.6234897971153259),
                     (5.969711526469467e-17, 0.9749279022216797, 0.22252093255519867),
                     (5.969711526469467e-17, 0.9749279022216797, -0.22252093255519867),
                     (4.7873372427804546e-17, 0.7818315029144287, -0.6234897971153259),
                     (2.656771613186194e-17, 0.4338837265968323, -0.9009688496589661),
                     (-0.3068021237850189, 0.3068021237850189, 0.9009688496589661),
                     (-0.5528383255004883, 0.5528383255004883, 0.6234897971153259),
                     (-0.6893781423568726, 0.6893781423568726, 0.22252093255519867),
                     (-0.6893781423568726, 0.6893781423568726, -0.22252093255519867),
                     (-0.5528383255004883, 0.5528383255004883, -0.6234897971153259),
                     (-0.3068021237850189, 0.3068021237850189, -0.9009688496589661),
                     (-0.4338837265968323, 5.313543226372388e-17, 0.9009688496589661),
                     (-0.7818315029144287, 9.574674485560909e-17, 0.6234897971153259),
                     (-0.9749279022216797, 1.1939423052938935e-16, 0.22252093255519867),
                     (-0.9749279022216797, 1.1939423052938935e-16, -0.22252093255519867),
                     (-0.7818315029144287, 9.574674485560909e-17, -0.6234897971153259),
                     (-0.4338837265968323, 5.313543226372388e-17, -0.9009688496589661),
                     (-0.3068021237850189, -0.3068021237850189, 0.9009688496589661),
                     (-0.5528383255004883, -0.5528383255004883, 0.6234897971153259),
                     (-0.6893781423568726, -0.6893781423568726, 0.22252093255519867),
                     (-0.6893781423568726, -0.6893781423568726, -0.22252093255519867),
                     (-0.5528383255004883, -0.5528383255004883, -0.6234897971153259),
                     (-0.3068021237850189, -0.3068021237850189, -0.9009688496589661),
                     (-7.970314674122459e-17, -0.4338837265968323, 0.9009688496589661),
                     (-1.4362011397469119e-16, -0.7818315029144287, 0.6234897971153259),
                     (-1.7909135241152892e-16, -0.9749279022216797, 0.22252093255519867),
                     (-1.7909135241152892e-16, -0.9749279022216797, -0.22252093255519867),
                     (-1.4362011397469119e-16, -0.7818315029144287, -0.6234897971153259),
                     (-7.970314674122459e-17, -0.4338837265968323, -0.9009688496589661),
                     (0.3068021237850189, -0.3068021237850189, 0.9009688496589661),
                     (0.5528383255004883, -0.5528383255004883, 0.6234897971153259),
                     (0.6893781423568726, -0.6893781423568726, 0.22252093255519867),
                     (0.6893781423568726, -0.6893781423568726, -0.22252093255519867),
                     (0.5528383255004883, -0.5528383255004883, -0.6234897971153259),
                     (0.3068021237850189, -0.3068021237850189, -0.9009688496589661)])

    plot_structure_contours(sp)
